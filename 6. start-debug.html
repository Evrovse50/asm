<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <link rel="shortcut icon" href="logo.png" type="image/png">
    <title>Учебное по дисциплине "Системное программирование"</title>
</head>

<body onload="PriZagruzke()">
    <div class="wrapper">




        <div class="main-container">
            <div class="mainWrap">

                <a id="touch-menu" class="mobile-menu" href="#" onclick="oAdaptiv()">
                    <div class="buteer">
                        <div class="bar1"></div>
                        <div class="bar2"></div>
                        <div class="bar3"></div>
                    </div>
                    <i class="icon-reorder"></i>Список глав
                </a>
                <div id="main-topSpisok">
                <nav>
                    <ul class="menu" id="sub-menu">
                        <li>
                            <a href="index.html">Предисловие</a>
                        </li>

                        <li><a href="2. introduction.html">Введение</a>
                            <ul>
                                <li><a href="3. intro-cpu.html">Немного о процессорах</a></li>
                            </ul>
                        </li>
                        <li><a>Быстрый старт</a>
                            <ul>
                                <li style="z-index: 9;"><a href="4. start-first.html" style="z-index: 10;">Первая
                                        программа</a>
                                 
                                        <li><a href="5. start-emu8086.html">Emu8086</a></li>
                                        <li><a href="6. start-debug.html">Debug</a></li>
                                        <li><a href="7. start-asm.html">MASM, TASM и WASM</a>
                                            <ul>
                                                <li><a href="8. start-tasm.html">Ассемблирование в TASM</a></li>
                                                <li><a href="9. start-masm.html">Ассемблирование в MASM</a></li>
                                                <li><a href="10. start-wasm.html">Ассемблирование в WASM</a></li>
                                                <li style="z-index: 10;"><a href="11. start-run.html" >Выполнение программы</a></li>
                                                <li><a href="12. start-bat.html">Использование BAT-файлов</a></li>
                                            </ul>

                                        </li>
                                        <li style="z-index: 6;"><a href="13. start-hex.html" >Шестнадцатеричный редактор</a></li>
                                  
                                </li>


                               
                            </ul>
                        <li><a href="14. asm.html">Введение в ассемблер</a>
                            <ul>
                                <li style="z-index: 6;"><a href="15. asm-computer.html">Как устроен компьютер</a>
                                    <ul>
                                        <li style="z-index: 7;"><a href="16. asm-cpu.html"> Структура процессора</a></li>
                                        <li style="z-index: 7;"><a href="17. asm-cpu-registers.html"> Регистры процессора</a></li>
                                        <li style="z-index: 7;"><a href="18. asm-cycle-command.html"> Цикл выполнения команды</a></li>
                                        <li style="z-index: 7;"><a href="19. asm-memory.html"> Организация памяти</a></li>
                                        <li style="z-index: 7;"><a href="20. asm-real-mode.html"> Реальный режим</a></li>
                                        <li style="z-index: 7;"><a href="21. asm-protected-mode.html"> Защищённый режим</a></li>
                                    </ul>
                                </li>
                                <li style="z-index: 2;"><a href="22. asm-number-systems.html">Системы счисления</a>
                                    <ul>
                                        <li style="z-index: 7;"><a href="23. asm-binary-system.html">Двоичная система счисления</a></li>
                                        <li style="z-index: 1;"><a href="24. asm-hex-system.html"> Шестнадцатеричная система счисления</a></li>
                                        <li style="z-index: 7;"><a href="25. asm-octal-system.html"> Другие системы</a></li>
                                    </ul></li>
                                <li style="z-index: 1;"><a href="26. asm-data-presentation.html">Представление данных в памяти компьютера</a>
                                    <ul>
                                        <li style="z-index: 7;"><a href="27. asm-positive-numbers.html">Положительные числа</a></li>
                                        <li style="z-index: 7;"><a href="28. asm-negative-numbers.html">Отрицательные числа</a></li>
                                        <li style="z-index: 7;"><a href="29. asm-overflow.html">Что такое переполнение</a></li>
                                        <li style="z-index: 7;"><a href="30. asm-flags-register.html">Регистр флагов</a></li>
                                        <li style="z-index: 7;"><a href="31. asm-character-codes.html">Коды символов</a></li>
                                        <li style="z-index: 7;"><a href="39. bcd.html">Что такое BCD</a></li>
                                    </ul>
                                   
                                </li>

                               
                            </ul>
                            <li style="z-index: 7;"><a href="32. asm-real.html">Вещественные числа</a>
                                <ul>
                                    <li style="z-index: 7;"><a href="33. asm-real-first.html">Первая попытка</a></li>
                                    <li style="z-index: 7;"><a href="34. asm-real-normalization.html">Нормализованная запись числа</a></li>
                                    <li style="z-index: 7;"><a href="35. asm-real-frac.html">Преобразование дробной части в двоичную форму</a></li>
                                    <li style="z-index: 7;"><a href="36. asm-real-memory.html">Представление вещественных чисел в памяти компьютера</a></li>
                                    <li style="z-index: 7;"><a href="37. asm-real-fixed-point.html">Числа с фиксированной точкой</a></li>
                                    <li style="z-index: 7;"><a href="38. asm-real-floating-point.html">Числа с плавающей точкой</a></li>

                                </ul>
                            </li>
                            <li style="z-index: 7;"><a href="40. procedures-in-assembler.html">Процедуры в Ассемблере</a></li>
                        
                        </li>



                        <li style="z-index: 7;"><a href="Test.html">Тестирование</a></li>
                        <li><a href="5. start-emu8086.html"> < </a></li>
                        <li><a href="7. start-asm.html"> > </a></li>
                    </ul>
                </nav>
            </div>
            </div>
            <div id="main-topSpisok2" style="display: none;">
                <nav>
                    <ul class="menu" id="sub-menu" style="display: block; left: 9px;">

                        <li>
                            <a href="index.html">Главная</a>
                        </li>
                        <li style="z-index: 7;"><a href="Test.html">Тестирование</a></li>
                        <li>
                            <a href="index.html">Предисловие</a>
                        </li>

                        <li><a href="2. introduction.html">Введение</a>
                            <ul style="left: 0px;">
                                <li><a href="3. intro-cpu.html">Немного о процессорах</a></li>
                            </ul>
                        </li>
                        <li><a>Быстрый старт</a>
                            <ul style="left: 0px;">
                                <li style="z-index: 9;"><a href="4. start-first.html" style="z-index: 10;">Первая
                                        программа</a>
                                 
                                        <li><a href="5. start-emu8086.html">Emu8086</a></li>
                                        <li><a href="6. start-debug.html">Debug</a></li>
                                        <li><a href="7. start-asm.html">MASM, TASM и WASM</a>
                                            <ul style="left: 0px;">
                                                <li><a href="8. start-tasm.html">Ассемблирование в TASM</a></li>
                                                <li><a href="9. start-masm.html">Ассемблирование в MASM</a></li>
                                                <li><a href="10. start-wasm.html">Ассемблирование в WASM</a></li>
                                                <li style="z-index: 10;"><a href="11. start-run.html" >Выполнение программы</a></li>
                                                <li><a href="12. start-bat.html">Использование BAT-файлов</a></li>
                                            </ul>

                                        </li>
                                        <li style="z-index: 6;"><a href="13. start-hex.html" >Шестнадцатеричный редактор</a></li>
                                  
                                </li>
                            </ul>
                        <li><a href="14. asm.html">Введение в ассемблер</a>
                            <ul style="left: 0px;">
                                <li style="z-index: 6;"><a href="15. asm-computer.html">Как устроен компьютер</a>
                                    <ul style="left: 0px;">
                                        <li style="z-index: 7;"><a href="16. asm-cpu.html"> Структура процессора</a></li>
                                        <li style="z-index: 7;"><a href="17. asm-cpu-registers.html"> Регистры процессора</a></li>
                                        <li style="z-index: 7;"><a href="18. asm-cycle-command.html"> Цикл выполнения команды</a></li>
                                        <li style="z-index: 7;"><a href="19. asm-memory.html"> Организация памяти</a></li>
                                        <li style="z-index: 7;"><a href="20. asm-real-mode.html"> Реальный режим</a></li>
                                        <li style="z-index: 7;"><a href="21. asm-protected-mode.html"> Защищённый режим</a></li>
                                    </ul>
                                </li>
                                <li style="z-index: 2;"><a href="22. asm-number-systems.html">Системы счисления</a>
                                    <ul style="left: 0px;">
                                        <li style="z-index: 7;"><a href="23. asm-binary-system.html">Двоичная система счисления</a></li>
                                        <li style="z-index: 1;"><a href="24. asm-hex-system.html"> Шестнадцатеричная система счисления</a></li>
                                        <li style="z-index: 7;"><a href="25. asm-octal-system.html"> Другие системы</a></li>
                                    </ul></li>
                                <li style="z-index: 1;"><a href="26. asm-data-presentation.html">Представление данных в памяти компьютера</a>
                                    <ul style="left: 0px;">
                                        <li style="z-index: 7;"><a href="27. asm-positive-numbers.html">Положительные числа</a></li>
                                        <li style="z-index: 7;"><a href="28. asm-negative-numbers.html">Отрицательные числа</a></li>
                                        <li style="z-index: 7;"><a href="29. asm-overflow.html">Что такое переполнение</a></li>
                                        <li style="z-index: 7;"><a href="30. asm-flags-register.html">Регистр флагов</a></li>
                                        <li style="z-index: 7;"><a href="31. asm-character-codes.html">Коды символов</a></li>
                                        <li style="z-index: 7;"><a href="39. bcd.html">Что такое BCD</a></li>
                                    </ul>
                                   
                                </li>

                               
                            </ul>
                            <li style="z-index: 7;"><a href="32. asm-real.html">Вещественные числа</a>
                                <ul style="left: 0px;">
                                    <li style="z-index: 7;"><a href="33. asm-real-first.html">Первая попытка</a></li>
                                    <li style="z-index: 7;"><a href="34. asm-real-normalization.html">Нормализованная запись числа</a></li>
                                    <li style="z-index: 7;"><a href="35. asm-real-frac.html">Преобразование дробной части в двоичную форму</a></li>
                                    <li style="z-index: 7;"><a href="36. asm-real-memory.html">Представление вещественных чисел в памяти компьютера</a></li>
                                    <li style="z-index: 7;"><a href="37. asm-real-fixed-point.html">Числа с фиксированной точкой</a></li>
                                    <li style="z-index: 7;"><a href="38. asm-real-floating-point.html">Числа с плавающей точкой</a></li>

                                </ul style="left: 0px;">
                            </li>
                            <li style="z-index: 7;"><a href="40. procedures-in-assembler.html">Процедуры в Ассемблере</a></li>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="content">

                <div class="nav">
                    <p>
                        <a href="5. start-emu8086.html" style="float: left;margin-top: 40%;"><</a>
                        <a href="7. start-asm.html" style="float: right;margin-top: 40%;">></a>
                    </p>
                </div>
                <article>

                    <div id="contTxt">
<h1>Программа Debug</h1>
<p>


<div class="notes">
<b>ПРИМЕЧАНИЕ</b><br>
Рисунки на этой странице не отображаются, но вы можете найти их в книге.
</div><br>
<p>
Как уже говорилось, 
программа <strong>Debug</strong> входит в состав Windows. Запустить программу Debug 
можно из командной строки или непосредственно из папки, в которой она находится. Чтобы 
запустить программу из командной строки, выберите команду из меню ПУСК – ВЫПОЛНИТЬ или 
нажмите комбинацию клавиш WIN + R. 
В открывшемся окне (рис. 1.5) напечатайте слово debug и нажмите клавишу ENTER или щёлкните кнопку ОК.
</p>
<p>
После этого откроется окно с пустым экраном и чёрточкой в левом верхнем углу, 
которая приглашает вас ввести какую-либо команду. Например, чтобы выйти из программы Debug, 
напечатайте букву q и нажмите ENTER.
</p>
<p>
Написать программу, используя Debug, можно не единственным способом, но мы пока 
рассмотрим тот, который больше похож на написание программы для 
<a>Emu8086</a>.
</p>
<p>
Чтобы написать уже известную нам программу, используя Debug, сделаем следующее 
(подразумевается, что Debug вы уже запустили, и увидели черный экран с маленькой мигающей 
черточкой в левом верхнем углу).
</p>
<p>
Введем букву «а» (напоминаю в последний раз - все команды вводятся на
английском языке) и нажмем ENTER.
</p>
<p>
Затем введем программу, нажимая ENTER в конце каждой строки:<pre> 
0B72: 0100 MOV AH, 02
0B72: 0102 MOV DL, 41
0B72: 0104 INT 21
0B72: 0106 INT 20
0B72: 0108</pre>
Результат будет примерно таким, как показано на рис. 1.6.

<p>
<b>ПРИМЕЧАНИЕ 1</b><br>
Обратите внимание, что все числовые значения пишутся без буковки h в конце. Это потому, 
что Debug работает только с шестнадцатеричными числами, и ему не надо объяснять, 
в какой системе исчисления вводятся данные.<br><br>
<b>ПРИМЕЧАНИЕ 2</b><br>
После ввода команды -а, появляются символы: 0B72: 0100. В вашем случае первые четыре 
символа могут быть другими, но нас они пока не интересуют. А как вы думаете, что означает 
число 0100? Помните директиву ORG 100h (см. раздел 
<a>Emu8086</a>)? 
Вот-вот – это адрес, с которого начинается выполнение программы. То есть в память с 
этим адресом заносится первая команда программы (для файлов СОМ). Каждая команда занимает 
2 байта, поэтому следующий адрес будет 0102 и т.д.
</p>
<p>
Сами команды мы уже знаем, 
поэтому описывать их здесь не будем.
</p>
<p>
Программа написана – нужно проверить ее работу. Нажмём ENTER ещё раз, чтобы на экране 
появилась чёрточка, которая говорит о том, что можно вводить команду для Debug. Затем 
введем команду g (от английского «GO») и нажмем клавишу ENTER. На экране увидим следующее:<pre>
-g
A
Программа завершилась нормально
-</pre>
Здесь A – та самая буква, которая выводится на экран в результате работы программы. 
Затем идёт сообщение о нормальном завершении программы (оно может отличаться в зависимости 
от версии Debug).

<p>
А теперь, если интересно, можно проверить программу в пошаговом режиме, то есть 
понаблюдать, как выполняются команды одна за другой. Для этого придется по новой 
набрать текст программы (не забудьте сначала ввести команду а), затем:
</p>
<p>
Введем команду t и нажмем клавишу ENTER. Увидим нечто вроде этого:<pre>
AX=0200  BX=0000  CX=0000  DX=0000  SP=FFEE  BP=0000  SI=0000  DI=0000
DS=0B72  ES=0B72  SS=0B72  CS=0B72  IP=0102  NV UP EI PL NZ NA PO NC
0B72:0102 B241		MOV	DL,41</pre>
Это есть ни что иное, как состояние регистров процессора после выполнения первой 
строки программы. Как вы можете видеть, в регистр АН записалось число 02. В нижней 
строке находится адрес команды и сама команда, которая будет выполняться следующей.

<p>
Снова введем команду t и нажмем клавишу ENTER. Увидим следующее:<pre>
AX=0200  BX=0000  CX=0000  DX=0041  SP=FFEE  BP=0000  SI=0000  DI=0000
DS=0B72  ES=0B72  SS=0B72  CS=0B72  IP=0104  NV UP EI PL NZ NA PO NC
0B72:0104 CD21		INT	21</pre>
Команда MOV DL, 41, как ей и полагается, записала в регистр DL число 41.

<p>
Снова введем команду t и нажмем клавишу ENTER. Увидим следующее:<pre>
AX=0200  BX=0000  CX=0000  DX=0041  SP=FFE8  BP=0000  SI=0000  DI=0000
DS=0B72  ES=0B72  SS=0B72  CS=0347  IP=0225  NV UP EI PL NZ NA PO NC
0347:0225 80FC4B	CMP	AH,4B</pre>
Команды CMP AH,4B нет в нашей программе. Наша программа завершила свою работу. 
Мы можем долго еще вводить команду t – нам будут выдаваться состояния регистров. 
Почему это происходит, нам пока не интересно. Лучше введем команду g и нажмем клавишу ENTER, 
таким образом окончательно выполним нашу программу, и увидим то, что мы уже видели.

<p>
Программа написана и проверена. Но как сделать ее самостоятельной, то есть как создать 
файл СОМ? Ведь то, что мы сделали, работает только с помощью Debug. Чтобы создать 
исполняемый файл, нужно ответить на несколько вопросов:
<ol>
  <li>Какого размера будет наш файл? Выполнение программы начинается с адреса 0100h, 
  а последняя строка в программе содержит адрес 0108h. Это значит, что размер файла 
  будет 8 байт (108h – 100h = 8).</li>
  <li>Как мы назовем наш файл? А хоть как. Однако, рекомендуется давать файлам английские 
  имена, в которых содержится не более 8 символов (DOSу так приятнее работать). Назовем, 
  например, debug_1.com</li>
</ol>
А теперь выполним следующие действия:
<ol>
  <li>Снова напишем нашу программу (тренируйтесь, тренируйтесь...).</li>
  <li>Запишем в регистр СХ размер файла. Для этого введем команду r cx и нажмем ENTER. Затем введем размер файла (8 байт) и нажмем ENTER.</li>
  <li>Введем команду n, затем один пробел и имя файла. Нажмем ENTER.</li>
  <li>И, наконец, введем команду w и нажмем ENTER.</li>
</ol> 
В результате всех этих действий на экране появится следующая информация (см. также рис. 1.7):<pre>
-r cx
СХ 0000
:8
-n debug_1.com
-w
Запись: 00008 байт
-</pre>
Если вы работаете в режиме эмуляции DOS из под WINDOWS, то файл debug_1.com 
сохранится на рабочий стол, либо в папку текущего пользователя. Это зависит от 
версии и/или настроек WINDOWS. Теперь его можно запустить как обычную программу. 
Если в указанных папках вы не нашли этот файл, то найдите его через поиск файлов. 
Ну а если вы не знаете, как это сделать, см. книгу Компьютер для чайников.   

<p>
Чувствую, что мы уже устали. Выход из Debug осуществляется командой q.
</p>
<p>
Набравшись сил и терпения, изучим еще одну опцию Debug – дизассемблер. С его помощью 
можно дизассемблировать какой-нибудь СОМ-файл (то есть выполнить действие, обратное 
ассемблированию – преобразовать исполняемый файл в исходный код на языке ассемблера). 
Допустим, у вас есть программка, написанная не вами – ее исходный код вы не знаете, 
а посмотреть очень хочется. Для этого и существует дизассемблер.
</p>
<p>
Итак, программа Debug у нас закрыта. Набираем в командной строке:<pre>
debug debug_1.com</pre>
(где debug_1.com – это имя файла, который мы хотим дизассемблировать) и нажимаем ENTER.

<p>
<b>ПРИМЕЧАНИЕ</b><br>
Если программа не запустилась, значит нужно указать полный путь к ней, например<pre>
C:\WINDOWS\COMMAND\debug debug_1.com</pre>
Если же программа запустилась, но выдала ошибку (например: Ошибка 1282 или «Файл не найден»), 
то нужно указать полный путь к файлу, например:<pre>
C:\WINDOWS\COMMAND\debug C:\MYPROG\debug_1.com</pre>
Если и это не помогло, то, возможно, вы всё-таки где-то допустили ошибку в пути или 
путь не соответствует требованиям DOS. В таком случае лучше поместить программу в 
корень диска С, откуда она гарантированно загрузится по пути «C:\debug_1.com».

<p>
Если Debug запустилась без сообщений об ошибках, то вводим команду u и нажимаем ENTER. 
Вот что мы увидим (примерно, см. также рис 1.8):<pre>
-u
0BC6:0100 B402		MOV	AH, 02
0BC6:0102 B241		MOV	DL, 41
0BC6:0104 CD21		INT	21
0BC6:0106 CD20		INT	20
0BC6:0108 56		PUSH	SI
0BC6:0109 2E		CS:
0BC6:010A 8A04		MOV	AL, [SI]
0BC6:010C 0AC0		OR	AL, AL
0BC6:010E 741A		JZ	012A
0BC6:0110 3C3A		CMP	AL, 3A
0BC6:0112 750D		JNZ	0121
0BC6:0114 2E		CS:	
0BC6:0115 807C0100	CMP	BYTE PTR [SI+01], 00
0BC6:0119 7506		JNZ	0121
0BC6:011B 2E		CS:
0BC6:011C C60400	MOV 	BYTE PTR [SI], 00
0BC6:011F EB09		JMP 	012A
-</pre>
Посмотрите на первые четыре строки. Узнаете? Это наша программа. Остальные строки 
нас не интересуют (это инструкции, оставшиеся от программ или данных, отработавших 
до запуска Debug). Ну а если мы рассматриваем незнакомый файл, как узнать, где 
кончается программа и начинается «мусор»? Ориентировочно это можно сделать по размеру 
файла (для очень маленьких программ). Размер можно посмотреть в свойствах файла. 
Только следует учитывать, что в свойствах файла размер дан в десятичной форме, а 
Debug нам выдает шестнадцатеричные адреса. Поэтому придется перевести десятичное число 
в шестнадцатеричное. 

<p>
Есть еще вариант (который тоже не всегда приемлем) – найти в полученном списке строку, 
содержащую команду выхода из программы (INT 20).
</p>
<p>
Если программа большая, то список ее команд не поместится на экран. Тогда снова вводим 
команду u и нажимаем ENTER. И так до конца программы.
</p>
<p>
Возможно, вы не увидите на экране свою программу. Это может быть либо из-за того, 
что программа почему-то не загрузилась, либо по причине несоответствия адресов. 
Будьте внимательны: обращайте внимание на адреса памяти, которые указаны в левой колонке. 
Наша программа начинается с адреса 0100. Если адрес другой, то это, соответственно, 
не наша программа. 
</p>
<br>
<!--Конец текста страницы-->




</div>
                </article>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="wrapper3">
            <div class="footer_bot">
               
                <div class="footer_bot_cop">Учебное по дисциплине "Системное программирование"</div>

            </div>
        </div>
    </div>
</body>
</html>
